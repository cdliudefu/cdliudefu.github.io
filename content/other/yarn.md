### 一、 包管理工具：npm、cnpm、yarn、pnpm
  首先他们都是依赖包的管理工具，都可以通过命令来安装包或模块；
#### 1、[NPM](https://www.npmjs.com/)
npm是集成在node.js安装包，在安装node.js就同时安装好了，这也就是node.js能够如此成功的主要原因，npm是围绕着语义版本控制的思想而设计的。  
給定一个版本号：主版本号.次版本号.补丁版本号。  
- 主版本号：当API发生改变，并于之前的版本不兼容的时候
- 次版本号：当增加了功能，但是向后兼容的时候
- 补丁版本号：当做了向后兼容的缺陷修复的时候

其常见的使用场景由：
- 允许用户从npm服务器下载别人编写的第三方包到本地使用
- 允许用户从npm服务器下载并安装别人编写的命令行程序到本地使用
- 允许用户将自己编写的包或命令行程序上传到npm服务器供别人使用
  
npm仍存在一定的缺点：
- 安装速度慢，特别是npm install需要等较长的时间，还不一定安装成功
- 同一个项目，安装的时候无法保持一致性，
- 安装的时候，包会在同一时间下载和安装，中途某个时候，一个包抛出错误，npm会继续下载和安装包，所抛出的错误日志就会在一大堆的警告中丢失，甚至不会注意到实际发生的错误。
#### 2、cnpm
- cnpm跟npm用法完全一致，只是在执行命令的时候npm改为cnpm
- npm安装插件是从国外服务器下载，受网络影响，可能出现异常，于是淘宝团队对npm做了一个完整的镜像，同步频率为10分钟一次，尽量保证于官方服务同步
- 官方地址：http://npm.taobao.org
- 安装注册：
```batch
npm install -g cnpm --registry=https://registry.npm.taobao.org
```
#### 3、[yarn 快速、可靠、安全的依赖管理工具](https://yarn.bootcss.com/)
yarn是由facebook,google等联合推出的一个新的JS包管理工具，是为了弥补npm的一些缺陷而出现的。一开始的主要目标是解决npm安装过程中由于语义版本控制而导致不确定性的问题，虽然npm 可以使用shrinkwrap来实现可预测的依赖关系树，但它并不是默认选项，而是取决于所有的开发任意知道并启用这个选项。 

yarn采用了不同的做法，每个yarn安装都会生成一个yarn.lock文件，该文件包含要安装的内容和校验和，以确保使用的库的版本相同

yarn优点
- 速度快 
 1. 并行安装：无论npm还是yarn在执行包的安装时，都会执行一系列任务，npm是按照队列执行每个package,也就是说必须要等到当前package安装完成之后，才能继续后面的安装。而yarn是同步执行所有任务，提高了性能。
 2. 离线模式：如果之前已经安装过一个软件包，用yarn再次安装时之间从缓存中获取，就不用像npm那样再从网络下载
- 安装版本统一：为防止拉取不同版本，yarn有一个锁定文件记录了被确定安装上的模块的版本号，每次只要新增了一个模块，yarn就会创建或更新yarn.lock文件，只要保证了每次拉取同一个项目依赖时，使用的都是一样的模块版本
- 更简洁的输出：npm的输出信息比较冗长，命令行里会不断打印出所有被安装上的依赖，相比之下，yarn简介输出，默认情况下，结合了emoij直观的打印出必要的信息
- 多注册来源处理：所有的依赖包，不管被不同的库间接关联引用多少次，安装这个包时，只会从一个注册来源去装，要么是npm要么是bower，防止出现混乱不一致。
- 更好的语义化：yarn改变了一些npm命令的名称，比如yarn add/remove 感觉上比npm install/uninstall更清晰

#### 4、[pnpm(Fast, disk space efficient package manager)](https://pnpm.js.org/)
快速、高效的磁盘空间包管理器，
- pnpm允许起来非常的块，超过了npm和yarn
- pnpm采用了一种巧妙的方法，利用硬链接和符号链接来避免复制所有本地缓存源文件，这是yarn的最大性能弱点之一
- 使用链接并不容易，会带来一对问题需要考虑
- pnpm继承了yarn的所有优点，包括离线模式和确定性安装

### 总结
npm仍然提供了一个非常有用的解决方案，支持大量的测试用例，大多书开发任意使用原始的npm客户端仍然可以做的很好  
yarn的确定性安装，可以避免很多潜在的问题，相对安全  
pnpm可能是一些测试用例的更好选择，比如可以在运行大量继承测试并希望尽可能的安装依赖关系的中小型团队中发挥作用

### yarn和npm命令对比
 |                          npm | yarn                 |
  | ---------------------------: | :------------------- |
  |                  npm install | yarn                 |
  |     npm install react --save | yarn add react       |
  |   npm uninstall react --save | yarn remove react    |
  | npm install react --save-dev | yarn add react --dev |
  |            npm update --save | yarn upgrade         |



  

